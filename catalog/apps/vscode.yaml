type: app
name: Visual Studio Code
display-name: VS Code
category: Development/IDEs
tags: [editor, ide, microsoft]
description: Lightweight but powerful source code editor
profiles: [developer]
os: [windows, linux, macos]
license: MIT
alternatives: [cursor, sublimetext]
links:
  website: https://code.visualstudio.com
  docs: https://code.visualstudio.com/docs
  github: https://github.com/microsoft/vscode
install:
  winget: Microsoft.VisualStudio.Code
  choco: vscode
tweaks:
  - id: open-with-code
    name: Open with Code
    description: Add "Open with Code" to the Explorer context menu for files and folders
    reversible: true
    script: |
      New-Item -Path 'HKCR:\*\shell\VSCode' -Force | Out-Null
      Set-ItemProperty -Path 'HKCR:\*\shell\VSCode' -Name '(Default)' -Value 'Open with Code'
      Set-ItemProperty -Path 'HKCR:\*\shell\VSCode' -Name 'Icon' -Value '"C:\Program Files\Microsoft VS Code\Code.exe"'
      New-Item -Path 'HKCR:\*\shell\VSCode\command' -Force | Out-Null
      Set-ItemProperty -Path 'HKCR:\*\shell\VSCode\command' -Name '(Default)' -Value '"C:\Program Files\Microsoft VS Code\Code.exe" "%1"'
      New-Item -Path 'HKCR:\Directory\shell\VSCode' -Force | Out-Null
      Set-ItemProperty -Path 'HKCR:\Directory\shell\VSCode' -Name '(Default)' -Value 'Open with Code'
      Set-ItemProperty -Path 'HKCR:\Directory\shell\VSCode' -Name 'Icon' -Value '"C:\Program Files\Microsoft VS Code\Code.exe"'
      New-Item -Path 'HKCR:\Directory\shell\VSCode\command' -Force | Out-Null
      Set-ItemProperty -Path 'HKCR:\Directory\shell\VSCode\command' -Name '(Default)' -Value '"C:\Program Files\Microsoft VS Code\Code.exe" "%V"'
      New-Item -Path 'HKCR:\Directory\Background\shell\VSCode' -Force | Out-Null
      Set-ItemProperty -Path 'HKCR:\Directory\Background\shell\VSCode' -Name '(Default)' -Value 'Open with Code'
      Set-ItemProperty -Path 'HKCR:\Directory\Background\shell\VSCode' -Name 'Icon' -Value '"C:\Program Files\Microsoft VS Code\Code.exe"'
      New-Item -Path 'HKCR:\Directory\Background\shell\VSCode\command' -Force | Out-Null
      Set-ItemProperty -Path 'HKCR:\Directory\Background\shell\VSCode\command' -Name '(Default)' -Value '"C:\Program Files\Microsoft VS Code\Code.exe" "%V"'
    undo-script: |
      Remove-Item -Path 'HKCR:\*\shell\VSCode' -Recurse -ErrorAction SilentlyContinue
      Remove-Item -Path 'HKCR:\Directory\shell\VSCode' -Recurse -ErrorAction SilentlyContinue
      Remove-Item -Path 'HKCR:\Directory\Background\shell\VSCode' -Recurse -ErrorAction SilentlyContinue
config:
  links:
    - source: settings.json
      target:
        windows: "%APPDATA%/Code/User/settings.json"
        linux: "$HOME/.config/Code/User/settings.json"
        macos: "$HOME/Library/Application Support/Code/User/settings.json"
    - source: keybindings.json
      target:
        windows: "%APPDATA%/Code/User/keybindings.json"
        linux: "$HOME/.config/Code/User/keybindings.json"
        macos: "$HOME/Library/Application Support/Code/User/keybindings.json"
    - source: snippets
      target:
        windows: "%APPDATA%/Code/User/snippets"
        linux: "$HOME/.config/Code/User/snippets"
        macos: "$HOME/Library/Application Support/Code/User/snippets"
      link-type: junction
  clean-filter:
    files: [settings.json]
    rules:
      - type: strip-json-keys
        keys: [window.zoomLevel, sync.gist, julia.executablePath, typescript.tsdk]
